<template name="measures">
	<div class="row">
		<div class="sixteen wide column" style="padding-bottom:30px">
			<ul class="span7 offset3 unstyled">
				{{> measureTags}}
				{{#AnimateWithVelocity}}
				{{> chart}}
				{{/AnimateWithVelocity}}
				{{#each measures}}
					{{> measureItems}}
				{{/each}}
			</ul>
		</div>
	</div>
</template>

<template name="chart"> <!--change ul and li-->
	<li style="{{#unless display}} display: none; {{/unless}}" class="card" data-animate data-property="opacity" data-duration="500" data-from-value="0" data-to-value="1">
		<div class="card-heading pointer">
			<div class="card-heading-header">
				<p style="font-size: 22.75px;">
					<strong><i class="fa fa-tags"></i> Graph {{#if graphTitle}}- {{graphTitle}} {{/if}}</strong>
				</p>
			</div>
		</div>
		<div class="card-body" style="text-align: left;">
			<div id="placeholder" style=" width: 100%; height: 300px "></div>
			<div id="legendholder"></div>
		</div>
	</li>
</template>

<template name="measureTags">
	<div class="ui accordion" style="background-color:#FFFFFF">
		<div class="card-heading pointer" data-toggle="collapse" data-target=".tagcollapse">
			<div class="card-heading-header">
				<div class="active title">
					<p style="font-size: 2em;">
						<strong><i class="fa fa-tags"></i> Measures</strong>
					</p>
				</div>
			</div>
		</div>
		<div class="card-body in collapse tagcollapse" style="text-align: left;">
			<div class="active title" style="font-size:10pt">
				<div class="ui green labels">
					{{#each tags}}
					{{#if type}}
					<a class="label label-sea tag {{active}}" style="border-radius:3px; padding:0.2em">
						{{type}}&nbsp;({{count}})
					</a>
					{{else}}
					<a class="label label-sea tag {{active}}" style="border-radius:3px; padding:0.2em">
						All&nbsp;({{count}})
					</a>
					{{/if}}
					{{/each}}
				</div>
			</div>
		</div>
	</div>
</template>

<template name="measureItems">
	{{#AnimateWithVelocity}}
	<div class="item" data-animate data-property="opacity, translateY" data-duration="500" data-from-value="0,-200px" data-to-value="1,0">
		<div class="twitter" style="border-bottom:1px solid #e5e5e5; margin:auto">
			<div class="twitter-left twitter-blue {{#if problemSubject}} twitter-orange {{/if}}" style="padding-bottom: 0px;">
				<div class="ui list">
					<div class="item" style="font-size: 12pt;">
						<i class="fa fa-bar-chart-o"></i> <strong>{{type}}</strong>
					</div>
					{{#if problemSubject}}
					<div class="item" style="font-size: 12pt;">
						<a href="#" class="label"><i class="fa fa-times"></i>&nbsp;<strong>{{problemSubject}}</strong></a>
					</div>
					{{/if}}
					<div class="item">
						{{> measuresAccordion}}
					</div>
				</div>

			</div>
			<div class="twitter-right">
				<div class="ui list" style="padding-bottom: 10px; font-size:12pt">
					{{#each fields}}
					<div class="item">
						{{#if unit}}
						<strong>{{type}}:</strong> {{value}}{{unit}}
						{{else}}
						<strong>{{type}}:</strong> {{checkbox}}
						{{/if}}
					</div>
					{{/each}}
				</div>
				<div style="opacity: 0.5;text-align: right; font-size:12pt">
					{{#if noPatientSelected}}
					<i class="fa fa-user"></i><strong> {{patientName}}</strong> {{bed}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<i class="fa fa-plus-square"></i> {{nurseName}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class="fa fa-clock-o"></i> {{date}}
				</div>
			</div>
		</div>
	</div>
	{{/AnimateWithVelocity}}
</template>

<template name="measuresAccordion">
	<div class="ui accordion">
		<div class="title">
			{{#if opened}}
				<i class="angle double down icon" style="overflow: hidden; white-space: nowrap; align-self:auto; font-size: 17pt; color: #FFFFFF"></i>	
			{{else}}
				<i class="angle double right icon" style="font-size: 17pt; color: #FFFFFF"></i>
			{{/if}}
		</div>
		<div class="content" style="padding-bottom: 10px;">
			<div class="ui list">
				{{#unless problemSubject}}
					<div class="item">
						<select data-native-menu="false" style="color:#000000">
							<option data-problemId="" value="">Select...</option>
							{{#each problems}}
							<option data-problemId="{{_id}}" value="{{subject}}">{{subject}}</option>
							{{/each}}
						</select>
					</div>
					<div class="item">
						<div class="ui button delete" style="background-color:#555555; color:#FFFFFF">
							<i class="fa fa-times"></i> Delete
						</div>
					</div>
				{{/unless}}
			</div>
		</div>
	</div>
</template>