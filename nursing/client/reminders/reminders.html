<template name="reminders">


					<!--<div class="card-body in collapse tagcollapse" style="text-align: left;">

						{{>categories}}

					</div> -->

							{{>categories}}




	<div class="ui grid">
		<div class="row">
			<div class="column">
				<div class="span8 offset2">

					<div id="items-view">

						{{#if loading}}
						Loading...
						{{else}}
						<div class="ui list">
							{{#each reminders}}
							{{> reminderItem}}

							{{/each}}

						</div>
						{{/if}}

					</div>
				</div>
			</div>
		</div>
	</div>
</template>

<template name="categories">

<div id="categories" class="ui grid">
<div class="row">
	<div class="column">
	<div class="ui green labels">
		<div type="button" id="all-categories" class="label category pointer {{allSelected}}" style="width:fit-content">
			<strong>All</strong> ({{totalReminders}})
		</div>
		</div>
	</div>

		{{#each categories}}
		<div class="column">
		<div class="ui green labels">
		{{#if editing}}

		<div class="edit">
			<input class="category-name-input" id="category-name-input" type="text" value="{{name}}" />
		</div>

		{{else}}

		<div type="button" class="ui label pointer category {{selected}}" style="width:fit-content">
			{{name}} <div class="detail">{{count}}</div>
		</div>

		{{/if}}
		</div>
		</div>
		{{/each}}

		<div id="createCategory" class="invisible">
			<input type="text" id="new-category" placeholder="New category" />
		</div>

</div>
	</div>

</template>

<template name="reminderItem">
	{{#AnimateWithVelocity}}

	<div class="item card  {{#if done}} twitter-grey {{/if}} reminder-items" style="background-color: #D2EBD1" data-animate data-property="opacity, translateY" data-duration="500" data-from-value="0,-200px" data-to-value="1,0">
		<label class="check" style="margin-right:0;margin-top:0;float:right">
			<div class="ui right labeled icon button " name="markdone">
				Done <i class=" {{doneCheck}}"></i>
			</div> 
		</label>

		<div class="{{#if problemSubject}} {{#if solved}} twitter-blue {{else}}twitter-orange  {{/if}}{{/if}}" style="padding:5px">
		
		<label style="margin-left:0;margin-top:0;float:left"><i class="large tasks icon" ></i></label>
		
			<div class="ui list">

				<div class="item">
					<div class="ui list">

						<div class="item">
							<div class="ui large label">
								<i class="user icon"></i><strong>{{patientName}}</strong> &nbsp; {{roomNumber}}{{bed}}					
							</div>
						</div>
						<div class="item">
						<div class="ui message">
							{{#if editing}}
							<p><div class="edit">
								<input id="reminder-input" type="text" value="{{message}}" />
							</div></p>
							{{else}}
							<p><div class="display">
								<span class="reminder-text">{{message}}</span>
							</div></p>
							{{/if}}
						</div>	
						</div>					
						<div class="item">
							<div class="ui button" data-toggle="collapse" data-target=".postponesubmenu{{_id}}">
								<strong>{{niceDue}}</strong>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="offset1 collapse submenu postponesubmenu{{_id}}">
			<div class="ui list">
				<div class="item">
					<i class="fa fa-angle-up" data-toggle="collapse" data-target=".postponesubmenu{{_id}}" ></i>
				</div>
				<div class="item">
					postpone by:
				</div>
				<div class="item">
					<button class="btn btn-default postpone1">
						<i class="fa fa-repeat"> 1 day</i>
					</button>
				</div>
				<div class="item">
					<button class="btn btn-default postpone2">
						<i class="fa fa-repeat"> 2 days</i>
					</button>
				</div>
				<div class="item">
					<button class="btn btn-default postpone3">
						<i class="fa fa-repeat"> 3 days</i>
					</button>
				</div>
			</div>
		</div>

		<div class="offset1 collapse submenu {{_id}}">
			<div class="ui list">
				<div class="item">
					<i class="fa fa-angle-up" data-toggle="collapse" data-target=".{{_id}}" ></i>
				</div>
				<div class="item">

					{{#if problemSubject}}
					<div class="ui list">
						<div class="item">
							<i class="fa fa-warning"></i>
						</div>
						<div class="item">
							<label class="label label-important"><strong>{{problemSubject}}</strong></label>
						</div>
						<div class="item">
							<button class="btn btn-default twitter-red detach">
								<i class="fa fa-times"> detach problem</i>
							</button>
						</div>
					</div>
					{{else}}
					<select class="label label-important form-control" >
						<option data-problemId="" value="">Attach to a problem</option>
						{{#each problems}}
						<option  data-problemId="{{_id}}" value="{{subject}}">{{subject}}</option>
						{{/each}}
					</select>
					{{/if}}

				</div>
			</div>
		</div>

		<div class="offset1 collapse submenu {{_id}}">

			<div class="ui list">
				<div class="item">
					<i class="fa fa-angle-up {{#unless done}} invisible {{/unless}}" data-toggle="collapse" data-target=".{{_id}}" ></i>
				</div>
				<div class="item">
					<button class="btn btn-inverse {{#unless done}} invisible {{/unless}}">
						<i class="fa fa-times delete"> delete</i>
					</button>
				</div>
			</div>

		</div>

		<div class="reminder-item-footer">
			<div class="ui list">
				<div class="item">
					<div>
						<i style="opacity: 0.5;" class="fa fa-clock-o"> created at: {{date}}, by: {{nurseName}}</i>
					</div>
				</div>
				<div class="item">
					<div>
						<button type="button" class="btn btn-default pointer category {{selected}}">
							{{category}}
						</button>
					</div>
				</div>
			</div>
		</div>

	</div>

	{{/AnimateWithVelocity}}
</template>