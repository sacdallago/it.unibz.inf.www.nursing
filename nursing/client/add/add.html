<template name="newMeasurement">
	<div id="newMeasurementModal" class="ui modal">
		<i class="close icon"></i>
		<div class="header">
			New Measurement
		</div>
		<div class="content">
			<div class="description">
				{{> newMeasurementContent}}
			</div>
		</div>
	</div>
</template>

<template name="newJournal">
	<div id="newJournalModal" class="ui modal">
		<i class="close icon"></i>
		<div class="header">
			New Journal
		</div>
		<div class="content">
			<div class="description">
				{{> newJournalContent}}
			</div>
		</div>
	</div>
</template>

<template name="newReminder">
	<div id="newReminderModal" class="ui modal">
		<i class="close icon"></i>
		<div class="header">
			New Reminder
		</div>
		<div class="content">
			<div class="description">
				{{> newReminderContent}}
			</div>
		</div>
	</div>
</template>

<template name="newMeasurementContent">
	<form class="form">
		<div class="modal-body">
			<strong name="department">Type</strong>&nbsp;
			<select id="measurementType">
				<option data-_id="" value="">Select...</option>
				{{#each units}}
				<option data-_id="{{_id}}" value="{{type}}">{{name}}</option>
				{{/each}}
			</select>
			<div >
				<table class="table measures">
					<tbody>
						{{#each measures.fields}}
						<tr>
							<td>{{preText}}&nbsp;</td>
							<td>
							<input data-pretext="{{preText}}" class="measure" type="{{type}}" step="{{step}}" min="{{min}}" max="{{max}}" placeholder="{{unit}}" value="" {{required}}>
							</td>
							<td>{{unit}}&nbsp;</td>
						</tr>
						{{/each}}
					</tbody>
				</table>
			</div>
		</div>
		<div class="modal-footer">
			<button type="submit" class="btn btn-block send">
				<strong><i class="fa fa-circle-o river"></i></strong> Save
			</button>

			<button type="button" class="btn btn-block" data-toggle="collapse" data-target=".measureProblemCollapse">
				<strong><i class="fa fa-exclamation alizarin"></i></strong> Problem
			</button>

			<div class="input-group collapse measureProblemCollapse" style="margin-top: 20px;">
				<strong>Select an existing problem:&nbsp;</strong>
				<br>
				<select id="measurementProblemSelector" style="width: 100%">
					<option data-problemId="" value="">Select...</option>
					{{#each problems}}
					<option data-problemId="{{_id}}" value="{{subject}}">{{subject}}</option>
					{{/each}}
				</select>
			</div>
		</div>
	</form>
</template>

<template name="newJournalContent">
	<div class="ui form">
		<div class="field">			
				<label>Message:</label>
				<textarea id="messageText" maxlength="180">{{messageData.message}}</textarea>
				<p style="text-align: right; color: #555;" id="textCounter"></p>			
		</div>

		<div>
			<div class="ui basic button">
				<i class="icon upload {{fileSelected}}"></i> File
				<input id="journalFile" type="file">
			</div>
		</div>
		<br>
		<div class="modal-footer">
			<div class="ui basic button send">
				<strong><i class="add circle icon"></i></strong> Save
			</div>

			<div class="ui basic button problem">
				<strong><i class="warning sign icon"></i></strong> Problem&nbsp;
			</div>

					<div id="transity">
						<label>Select an existing problem:</label>
						<select id="journalProblemSelector">
						
							<option data-problemId="" value="">Select...</option>
							{{#each problems}}
							<option data-problemId="{{_id}}" value="{{subject}}">{{subject}}</option>
							{{/each}}

						</select>
						<strong>... Or define a new problem:&nbsp;</strong>
						<input id="defineProblem" type="text" maxlength="15" pattern="^\b[a-zA-Z]{2,15}\b" />
					</div>
		</div>
	</div>
</template>

<template name="newReminderContent">
	<div class="ui form">
		<div class="modal-header">
		
			<h4 class="ui header">Insert note</h4>
		<div class="field">
			<input placeholder="Insert a brief description of the tast you wish to create a reminder for" id="remindermessage" type="text" name="message" value="" required/>
		</div>
			<h4 class="ui header">Pick a category</h4>
			<br>
			<div class="field">
				<div class="ui grid">
           		    <div class="ui labels">
					{{#each categories}}
						<div type="button" class="ui label category" style="width:fit-content; {{#if selected}} background-color: #4495eb{{/if}}background-color:#B2EBF2">
	                    <strong>{{name}}</strong>                    
	                	</div>                	
					{{/each}}
					</div>
				</div>
			</div>

			<h4 class="class ui header">				
				<strong>Pick a due date</strong>
				<br/>
			</h4>	
			<div class="grouped fields">   
			    <div class="field">
			      <div class="ui radio checkbox checked">
			        <input name="dueDate" checked="checked" type="radio" value="today">
			        <label>Today</label>
			      </div>
			    </div>
			    <div class="field">
			      <div class="ui radio checkbox">
			        <input name="dueDate" type="radio" value="tomorrow">
			        <label>Tomorrow</label>
			      </div>
			    </div>
			    <div class="field">
			      <div class="ui radio checkbox">
			        <input name="dueDate" type="radio" value="day after tomorrow">
			        <label>After tomorrow</label>
			      </div>
			    </div>
			    <div class="field">
			      <div class="ui radio checkbox">
			        <input name="dueDate" type="radio" value="other" data-toggle="collapse" data-target=".otherdate">
			        <label>Other</label>
			      </div>
			    </div>
			</div>

				<div class="otherdate collapse offset1" style="padding-top=10px;margin:auto">
					<label class="offset1">
						<input type="date" name="otherDueDate">
					</label>
				</div>		
		</div>

		<div class="modal-footer">
			<br>
			<div class="ui basic button send">
				<strong><i class="add circle icon"></i></strong> Save
			</div>

			<div class="ui basic button problem">
				<strong><i class="warning sign icon"></i></strong> Problem&nbsp;
			</div>
						<div id="transity2">
							<label>Select an existing problem:&nbsp;</label>
							<select id="reminderProblemSelector">
								<option data-problemId="" value="">Select...</option>
								{{#each problems}}
								<option data-problemId="{{_id}}" value="{{subject}}">{{subject}}</option>
								{{/each}}
							</select>
						</div>
		</div>
	</div>
</template>